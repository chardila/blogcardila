---
title: "MovieTrailerCard: Componente Astro para Pel√≠culas"
description: "¬°Luces, c√°mara, acci√≥n! Te presento mi soluci√≥n para incrustar trailers de pel√≠culas y sus metadatos autom√°ticamente en mis posts, usando la API de TMDB."
publishDate: "2025-12-12"
tags: ["personal", "astro"]
---

import MovieTrailerCard from "@/components/MovieTrailerCard.astro";
import LightboxImage from "@/components/LightboxImage.astro";
import photo from '../../assets/images/MovieTrailerCard.png';

<LightboxImage src={photo} alt="MovieTrailerCard" />

## ¬øPor qu√© hice este componente?

Si sigues mi blog, habr√°s notado que el cine es un tema recurrente por aqu√≠. Me encanta escribir sobre las pel√≠culas que he visto, hacer recomendaciones o simplemente analizar mis favoritas. Sin embargo, siempre me encontraba con la misma fricci√≥n: incrustar un trailer de YouTube y copiar manualmente la fecha de estreno, el director o la sinopsis era un proceso tedioso.

Quer√≠a algo que fluyera tan bien como mi escritura. Algo donde pudiera decir "hey, mira esta pel√≠cula" y *pum*, apareciera m√°gicamente el trailer listo para ver, con toda la informaci√≥n relevante al lado, sin que yo tuviera que pelear con iFrames o buscar datos en pesta√±as infinitas.

As√≠ naci√≥ **MovieTrailerCard**.

## ¬øPor qu√© TMDB?

Para este componente, necesitaba una fuente de datos robusta. Evalu√© varias opciones, pero **The Movie Database (TMDB)** fue la ganadora indiscutible por varias razones:

1.  **API Incre√≠ble:** Es s√∫per completa, r√°pida y bien documentada.
2.  **Trailers:** Tienen una base de datos inmensa de links a YouTube para trailers y teasers.
3.  **Multilenguaje:** Me permite traer la sinopsis y datos en espa√±ol (y si no hay trailer en espa√±ol, hace fallback a ingl√©s autom√°ticamente, ¬°un detalle que me encanta!).

## ¬øQu√© es MovieTrailerCard?

Es un componente de Astro dise√±ado para enriquecer mis posts con contenido cinematogr√°fico de alta calidad. T√∫ le das el ID de la pel√≠cula, y √©l se encarga del resto.

### Caracter√≠sticas que me encantan

*   üé• **Trailer Autom√°tico:** Busca el trailer en YouTube y lo incrusta. Si no hay trailer, muestra elegantemente el backdrop o el poster de la pel√≠cula.
*   üá™üá∏ **Soporte de Idioma:** Prioriza contenido en espa√±ol.
*   ‚ö° **R√°pido:** Usa cach√© local en el sistema de archivos (por 24 horas), as√≠ que no saturo la API de TMDB cada vez que reconstruyo el sitio.
*   üé® **Dise√±o Adaptable:** Se ve genial tanto en modo claro como oscuro.

## C√≥mo Encontrar el C√≥digo

Como siempre, creo en el c√≥digo abierto y en compartir lo que aprendo. Puedes encontrar el c√≥digo fuente completo en mi repositorio:

**Repositorio:** [https://github.com/chardila/blogcardila](https://github.com/chardila/blogcardila)

**Ruta del componente:**
```bash
blog/src/components/MovieTrailerCard.astro
```

**URL directa:**
[Ver Componente en GitHub](https://github.com/chardila/blogcardila/blob/master/blog/src/components/MovieTrailerCard.astro)

## C√≥mo Lo Uso

Es rid√≠culamente f√°cil. Primero, necesito el ID de la pel√≠cula de TMDB (ese numerito que sale en la URL cuando buscas una peli en su web).

Por ejemplo, para una de mis favoritas, **Fight Club** (ID: 550):

```astro
import MovieTrailerCard from "@/components/MovieTrailerCard.astro";

<MovieTrailerCard movieId="550" />
```

Y el resultado es una tarjeta hermosa con el trailer, el a√±o, la duraci√≥n y la sinopsis:

<MovieTrailerCard movieId="550" />

¬øY si quiero hablar de un cl√°sico como **The Godfather**?

```astro
<MovieTrailerCard movieId="238" />
```

<MovieTrailerCard movieId="238" />

## Detalles T√©cnicos Interesantes

Para los curiosos del c√≥digo, hay un par de cosas "bajo el cap√≥" que valen la pena mencionar:

### Cach√© Local para no "quemar" la API

Para evitar hacer llamadas innecesarias a la API (y que me bloqueen por rate limiting), implement√© un sistema de cach√© simple usando el sistema de archivos.

```typescript
// L√≥gica simplificada
const cacheKey = `tmdb_movie_${id}`;
const cached = getCachedData(cacheKey);

if (cached) {
  return cached; // ¬°Retorno instant√°neo!
}

// ... si no est√° en cach√©, llamamos a la API y guardamos el resultado
setCachedData(cacheKey, result);
```

### Fallback de Trailers

No todas las pel√≠culas tienen trailers en espa√±ol. El componente es lo suficientemente listo como para buscar primero en espa√±ol (`es-ES`) y, si no encuentra nada, buscar en ingl√©s (`en-US`) antes de rendirse y mostrar solo una imagen.

## Conclusi√≥n

**MovieTrailerCard** ha hecho que escribir sobre cine en mi blog sea un placer de nuevo. Elimin√≥ la fricci√≥n t√©cnica y me dej√≥ solo con la parte divertida: compartir mi pasi√≥n por las pel√≠culas.

Si tienes un blog en Astro y te gusta el cine, ¬°te animo a que le eches un vistazo al c√≥digo y lo pruebes!
